<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Realtime Auckland Transit Network</title>
    <link rel="stylesheet" type="text/css" href="assets/css/app.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css"
   integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw=="
   crossorigin=""/>
  </head>
  <body>

    <div class="container-fluid bgblack" id="mainContainer">
        <div class="row">
            <!-- <div class="col-md-8 column"> -->
                <div class="panel-upper">
                    <section id="networkMap">
                        <div id="map"></div>
                    </section>
                </div>
                <div class="panel-lower">
                    <section id="networkRegions">
                    </section>
                </div>
            <!-- </div> -->
            <div class="col-md-4 floating">
                <section id="networkStatus" class="full-height">
                    <div class="panel1">
                        <span class="nwstate">
                            <span id="nwPerc">?</span>%</span>
                        <span class='label'>of buses are on-time</span>
                    </div>

                    <div class="panel2">
                        <table class="table">
                            <tr id="bargraph">
                                <td><div id="earlier"></div></td>
                                <td><div id="early"></div></td>
                                <td><div id="ontime"></div></td>
                                <td><div id="late"></div></td>
                                <td><div id="later"></div></td>
                                <td><div id="quitelate"></div></td>
                                <td><div id="verylate"></div></td>
                            </tr>
                            <tr class="text-center">
                                <td id="deltab0"></td>
                                <td id="deltab1"></td>
                                <td id="deltab2"></td>
                                <td id="deltab3"></td>
                                <td id="deltab4"></td>
                                <td id="deltab5"></td>
                                <td id="deltab6"></td>
                            </tr>
                            <tr>
                                <th>&gt 5min early</th>
                                <th>1&ndash;5min early</th>
                                <th>on time</th>
                                <th>5&ndash;10min late</th>
                                <th>10&ndash;20min late</th>
                                <th>20&ndash;30min late</th>
                                <th>&gt;30min late</th>
                            </tr>
                        </table>
                    </div>

                    <div class="panel3">
                        <p>
                            <strong>The map shows real-time positions of buses in the Auckland Transport network</strong>. This data
                            comes directly from Auckland Transport's public GTFS realtime API.
                        </p>

                        <p>
                            <strong>On-time is defined as between 1 minute early and 5 minutes late</strong>, which is the region colored in green in the histogram.
                            <strong>The breakdown by region</strong> is based on the location of the stop at which the delay was reported.
                        </p>
                    </div>
                </section>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js"
   integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA=="
   crossorigin=""></script>
    <script src="assets/js/app.min.js"></script>
    <script type="text/javascript">
        /* Load modules for this page */
        var map, data = {"regions": null, "stops": null};
        $("#networkRegions").css('height',
            $($(".region-status")[0]).width());
        networkMap();
        // networkStatus();
        // networkRegions();
    </script>
  </body>
</html>
